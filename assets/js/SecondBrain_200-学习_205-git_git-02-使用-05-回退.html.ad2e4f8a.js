"use strict";(self.webpackChunkvuepress_notes=self.webpackChunkvuepress_notes||[]).push([[1072],{527:(e,t,i)=>{i.r(t),i.d(t,{comp:()=>l,data:()=>d});var s=i(8178);const a={},l=(0,i(628).A)(a,[["render",function(e,t){return(0,s.uX)(),(0,s.CE)("div",null,t[0]||(t[0]=[(0,s.Fv)('<h1 id="git-02-使用-05-回退" tabindex="-1"><a class="header-anchor" href="#git-02-使用-05-回退"><span>git-02-使用-05-回退</span></a></h1><p>版本<strong>回退</strong>到目标版本，同时可以修改暂存区和工作区的内容状态</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reset</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 参数</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>参数</code>： <ul><li><code>--soft</code>：暂存区和工作区的内容不变，为回退前的内容</li><li><code>--mixed</code>：暂存区的内容变为 <code>目标版本</code> 提交后的内容；工作区的内容不变，为回退前的内容</li><li><code>--hard</code>：暂存区和工作区的内容变为 <code>目标版本</code> 提交后的内容</li><li><strong>注意</strong>：<code>git reset 版本</code> 的方式为 <code>--mixed</code></li></ul></li><li><code>版本</code>：回退目标版本的版本号或者版本标志</li></ul><h2 id="参数对比总结" tabindex="-1"><a class="header-anchor" href="#参数对比总结"><span>参数对比总结</span></a></h2><table><thead><tr><th>命令</th><th style="text-align:center;">HEAD</th><th style="text-align:center;">暂存区</th><th style="text-align:center;">工作目录</th></tr></thead><tbody><tr><td><code>git reset --soft</code></td><td style="text-align:center;">重置</td><td style="text-align:center;">不变</td><td style="text-align:center;">不变</td></tr><tr><td><code>git reset--mixed</code></td><td style="text-align:center;">重置</td><td style="text-align:center;">重置</td><td style="text-align:center;">不变</td></tr><tr><td><code>git reset --hard</code></td><td style="text-align:center;">重置</td><td style="text-align:center;">重置</td><td style="text-align:center;">重置</td></tr></tbody></table><h2 id="参数使用建议" tabindex="-1"><a class="header-anchor" href="#参数使用建议"><span>参数使用建议</span></a></h2><ul><li><code>--soft</code>： <ul><li>合并多个提交为一个（在目标版本到回退前的版本之前的内容认为可以合并为同一版本）</li><li>修改最后一次提交信息（<code>git reset --soft HEAD~1 &amp;&amp; git commit -m &quot;新信息&quot;</code>）</li></ul></li><li><code>--mixed</code>： <ul><li>重新选择要提交的文件（修改后重新 <code>git add</code>）</li><li>撤销 <code>git add</code> 的误操作</li></ul></li><li><code>--hard</code>： <ul><li>彻底放弃本地所有更改</li><li>回滚到某个干净的历史版本</li></ul></li></ul><h3 id="误用-hard-的解决办法" tabindex="-1"><a class="header-anchor" href="#误用-hard-的解决办法"><span>误用 <code>--hard</code> 的解决办法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看历史记录，找到误操作之前的版本号</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reflog</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 恢复到指定的版本</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reset</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hard</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="版本" tabindex="-1"><a class="header-anchor" href="#版本"><span>版本</span></a></h2><p>版本：版本号与版本标志</p><h3 id="版本号" tabindex="-1"><a class="header-anchor" href="#版本号"><span>版本号</span></a></h3><p><code>git log</code> 命令下的 commit 对应的乱码</p><p>备注：输入版本号可输入前面 4 到 5 位，git 会自动搜寻</p><h3 id="版本标志" tabindex="-1"><a class="header-anchor" href="#版本标志"><span>版本标志</span></a></h3><ul><li><code>HEAD</code>：当前版本</li><li><code>HEAD^</code>：上一个版本</li><li><code>HEAD^^</code>：上上一个版本</li><li><code>HEAD~100</code>：往上 100 个版本</li></ul>',17)]))}]]),d=JSON.parse('{"path":"/SecondBrain/200-%E5%AD%A6%E4%B9%A0/205-git/git-02-%E4%BD%BF%E7%94%A8-05-%E5%9B%9E%E9%80%80.html","title":"git-02-使用-05-回退","lang":"zh-CN","frontmatter":{"description":"git-02-使用-05-回退 版本回退到目标版本，同时可以修改暂存区和工作区的内容状态 参数： --soft：暂存区和工作区的内容不变，为回退前的内容 --mixed：暂存区的内容变为 目标版本 提交后的内容；工作区的内容不变，为回退前的内容 --hard：暂存区和工作区的内容变为 目标版本 提交后的内容 注意：git reset 版本 的方式为 -...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"git-02-使用-05-回退\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Soooooox\\",\\"url\\":\\"https://github.com/Soooooox\\"}]}"],["meta",{"property":"og:url","content":"https://soooooox.github.io/Vuepress-Notes/Vuepress-Notes/SecondBrain/200-%E5%AD%A6%E4%B9%A0/205-git/git-02-%E4%BD%BF%E7%94%A8-05-%E5%9B%9E%E9%80%80.html"}],["meta",{"property":"og:site_name","content":"Soooooox 的小屋"}],["meta",{"property":"og:title","content":"git-02-使用-05-回退"}],["meta",{"property":"og:description","content":"git-02-使用-05-回退 版本回退到目标版本，同时可以修改暂存区和工作区的内容状态 参数： --soft：暂存区和工作区的内容不变，为回退前的内容 --mixed：暂存区的内容变为 目标版本 提交后的内容；工作区的内容不变，为回退前的内容 --hard：暂存区和工作区的内容变为 目标版本 提交后的内容 注意：git reset 版本 的方式为 -..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"git":{},"readingTime":{"minutes":1.42,"words":426},"filePathRelative":"SecondBrain/200-学习/205-git/git-02-使用-05-回退.md","autoDesc":true}')},628:(e,t)=>{t.A=(e,t)=>{const i=e.__vccOpts||e;for(const[e,s]of t)i[e]=s;return i}}}]);